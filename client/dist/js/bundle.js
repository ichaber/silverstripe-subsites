!function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./client/src/bundles/bundle.js")}({"./client/src/boot/index.js":function(e,t,n){"use strict";var i=n("./client/src/boot/registerComponents.js"),s=function(e){return e&&e.__esModule?e:{default:e}}(i);window.document.addEventListener("DOMContentLoaded",function(){(0,s.default)()})},"./client/src/boot/registerComponents.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),o=i(s),r=n("./client/src/components/SubsiteChangeAlert/SubsiteChangeAlert.jsx"),u=i(r);t.default=function(){o.default.component.registerMany({SubsiteChangeAlert:u.default})}},"./client/src/bundles/bundle.js":function(e,t,n){"use strict";n("./client/src/legacy/entwine/LeftAndMain_Subsites.js"),n("./client/src/legacy/entwine/SubsitesTreeDropdownField.js"),n("./client/src/boot/index.js")},"./client/src/components/SubsiteChangeAlert/SubsiteChangeAlert.jsx":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),a=n(3),l=i(a),d=n(5),f=n(6),b=i(f),p=n("./client/src/legacy/createEvent.js"),m=i(p),h=function(e){function t(e){s(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={modalOpen:!0},n.revertActiveSubsite=n.revertActiveSubsite.bind(n),n}return r(t,e),u(t,[{key:"revertActiveSubsite",value:function(){var e=window,t=e.localStorage,n=e.document,i=new XMLHttpRequest,s=n.getElementById("SubsitesSelect"),o=s.value,r=s.options[s.selectedIndex].text,u={subsiteID:o,subsiteName:r};i.open("GET","?SubsiteID="+o),i.addEventListener("load",function(){var e=JSON.stringify(u);t.setItem("subsiteInfo",e),window.dispatchEvent((0,m.default)("subsitechange",{subsiteInfo:e}))}),i.send()}},{key:"render",value:function(){var e=this.props,n=e.newSubsiteID,i=e.newSubsiteName,s=e.thisSubsite;return React.createElement(d.Modal,{isOpen:!0,backdrop:"static"},React.createElement(d.ModalHeader,null,b.default._t("SubsiteChangeAlert.SUBSITE_CHANGED_TITLE","Subsite changed")),React.createElement(d.ModalBody,null,b.default.inject(b.default._t("SubsiteChangeAlert.SUBSITE_CHANGED","Your current subsite has changed to {newSubsiteName}, continuing to edit this content will cause problems.\n                To continue editing {thisSubsite}, please change the active subsite back."),{id:n,newSubsiteName:i,thisSubsite:s})),React.createElement(d.ModalFooter,null,React.createElement(d.Button,{color:"danger",onClick:this.revertActiveSubsite},b.default._t(t.REVERT,"Change back"))))}}]),t}(c.Component);h.propTypes={newSubsiteID:l.default.number,newSubsiteName:l.default.string,thisSubsite:l.default.string},t.default=h},"./client/src/legacy/createEvent.js":function(e,t,n){"use strict";function i(e,t){var n=window,i=n.document,o=n.Event,r=void 0;return"object"===(void 0===o?"undefined":s(o))?(r=i.createEvent("Event",!0,!0),r.initEvent(e)):r=new o(e),t&&Object.keys(t).forEach(function(e){r[e]=t[e]}),r}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i},"./client/src/legacy/entwine/LeftAndMain_Subsites.js":function(e,t,n){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{default:e}}var i=n(1),s=t(i),o=n(4),r=t(o),u=n(0),c=n("./client/src/legacy/createEvent.js"),a=t(c);e.entwine("ss",function(e){e("#SubsitesSelect").entwine({ModalNode:null,onadd:function(){var t=this;window.addEventListener("storage",function(e){if("subsiteInfo"===e.key){var t=(0,a.default)("subsitechange",{subsiteInfo:e.newValue});window.dispatchEvent(t)}},!1),window.addEventListener("subsitechange",function(e){var n=t.getModalNode(),i=JSON.parse(e.subsiteInfo);n&&r.default.unmountComponentAtNode(n),i.subsiteID!==t.val()&&t.showReactiveNotice(i)},!1),this.on("change",function(){var n=t.val();window.location.search=e.query.set("SubsiteID",n)}),this.storeSubsiteInfo()},storeSubsiteInfo:function(){var t=this.val(),n={subsiteID:t,subsiteName:e('[value="'+t+'"]',this).text()};window.localStorage.setItem("subsiteInfo",JSON.stringify(n))},showReactiveNotice:function(e){var t=window.document.createElement("div");window.document.body.appendChild(t);var n=(0,u.loadComponent)("SubsiteChangeAlert"),i=this.get(0).selectedIndex;r.default.render(s.default.createElement(n,{newSubsiteID:parseInt(this.val(),10),newSubsiteName:e.subsiteName,thisSubsite:this.get(0).options[i].text}),t),this.setModalNode(t)}}),e(".cms-container .cms-menu-list li a").entwine({onclick:function(t){e(".cms-container").loadFragment("admin/subsite_xhr","SubsiteList"),this._super(t)}}),e(".cms-container .SubsiteAdmin .cms-edit-form fieldset.ss-gridfield").entwine({onreload:function(t){e(".cms-container").loadFragment("admin/subsite_xhr","SubsiteList"),this._super(t)}}),e(".cms-container .tab.subsite-model").entwine({onadd:function(t){e(".cms-container").loadFragment("admin/subsite_xhr","SubsiteList"),this._super(t)}}),e("#Form_ItemEditForm_AccessAllSubsites").entwine({onmatch:function(){this.showHideSubsiteList();var t=this;e("#Form_ItemEditForm_AccessAllSubsites input").change(function(){t.showHideSubsiteList()})},showHideSubsiteList:function(){e("#Form_ItemEditForm_Subsites").parent().parent().css("display",e("#Form_ItemEditForm_AccessAllSubsites_1").is(":checked")?"none":"")}}),e(".cms-edit-form").entwine({getChangeTrackerOptions:function(){var t=void 0===this.entwineData("ChangeTrackerOptions"),n=this._super();return t&&(n=e.extend({},n),n.ignoreFieldSelector+=", input[name=IsSubsite]",this.setChangeTrackerOptions(n)),n}}),e(".cms-edit-form input[name=action_copytosubsite]").entwine({onclick:function(){this.closest("form").trigger("submit",[this])}})}),e.entwine("ss.preview",function(e){e(".cms-preview").entwine({onafterIframeAdjustedForPreview:function(t,n){var i=this,s=e(n).find("meta[name=x-subsite-id]").attr("content");s&&(e(n).find("a").each(function(){var t=e(i).attr("href");void 0===t||t.match(/^http:\/\//)||e(i).attr("href",e.path.addSearchParams(t,{SubsiteID:s}))}),e(n).find("form").each(function(){var t=e(i).attr("action");void 0===t||t.match(/^http:\/\//)||e(i).append('<input type=hidden name="SubsiteID" value="'+s+'" >')}))}})})}).call(t,n(2))},"./client/src/legacy/entwine/SubsitesTreeDropdownField.js":function(e,t,n){"use strict";(function(e){e.entwine("ss",function(e){e("select.subsitestreedropdownfield-chooser").entwine({onchange:function(){var t=this.attr("name").replace("_SubsiteID",""),n=e("#Form_EditForm_"+t).first();n.setValue(0),n.refresh(),n.trigger("change")}}),e(".TreeDropdownField.SubsitesTreeDropdownField").entwine({getAttributes:function(){var t=this.attr("id").replace("Form_EditForm_",""),n=e("#Form_EditForm_"+t+"_SubsiteID option:selected").val(),i=this._super();return i.data.urlTree+="?"+t+"_SubsiteID="+n,i.data.cacheKey=i.data.cacheKey.substring(0,19)+"_"+n,i}})})}).call(t,n(2))},0:function(e,t){e.exports=Injector},1:function(e,t){e.exports=React},2:function(e,t){e.exports=jQuery},3:function(e,t){e.exports=PropTypes},4:function(e,t){e.exports=ReactDom},5:function(e,t){e.exports=Reactstrap},6:function(e,t){e.exports=i18n}});